<ng-container *ngIf="products$ | async as products; else loading">
    <app-product *ngFor="let product of products" [product]="product"></app-product>
</ng-container>

<ng-template #loading>
    <app-loading></app-loading>
</ng-template>